<!DOCTYPE html>
<html>
<head>
  <title>AV verse formatter</title>
  <link rel="stylesheet" href="./index.css" />
</head>
<body>
  <div class="container">
    <textarea id="verse" rows="25" cols="100"></textarea>
    <button id="capitilise" aria-label="capitilise" class="btn-format">Format</button>
    <div id="output" class="output"></div>
    <button id="btn-copy" onclick="copyContent()">Copy!</button>
  </div>


  <script>
    const copyContent = () => {
      try {
        // Get the text field
        const copyText = document.getElementById("output").innerHTML;

        // Copy the text inside the text field
        navigator.clipboard.writeText(copyText);
      } catch (err) {
        console.error('Failed to copy: ', err);
      }
    }
  </script>

  <script>
    document.getElementById('capitilise').addEventListener('click',  (event) => {
      const verseInput = document.getElementById('verse').value;
      if (verseInput) {
        const formattedInput = verseInput.replace(/\s+/g, ' ').replace(/ \,/g, ',').replace(/ he/g, ' He').replaceAll(' - ', ' â€” ').trim();
        const outputDiv = document.getElementById('output');
        outputDiv.innerHTML = formattedInput;
        outputDiv.style.display = 'block';

        document.getElementById('btn-copy').style.display = 'block';
      }
    });
  </script>
</body>
</html>
